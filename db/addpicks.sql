CREATE TABLE [picks] ([captain] INTEGER NOT NULL REFERENCES [users] ([id]) ON DELETE CASCADE, [user] INTEGER NOT NULL REFERENCES [users] ([id]) ON DELETE CASCADE, [class] INTEGER NOT NULL CHECK(class <= 9) REFERENCES [tfclasses] ([id]), [match] INTEGER NOT NULL REFERENCES [matches] ([id]) ON DELETE CASCADE, [picked] BOOLEAN NOT NULL, [opponent_picked] BOOLEAN NOT NULL, [pick_order] INTEGER, PRIMARY KEY ([captain], [user], [class], [match]) ON CONFLICT REPLACE, CHECK (NOT ( picked AND opponent_picked )));
